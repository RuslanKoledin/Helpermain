# ‚úÖ –§–ò–ù–ê–õ–¨–ù–û–ï –†–ï–®–ï–ù–ò–ï: –õ–æ–∫–∞–ª—å–Ω–æ–µ —Ö—Ä–∞–Ω–µ–Ω–∏–µ –≤–∏–¥–µ–æ

## üéØ –ü—Ä–æ–±–ª–µ–º–∞ –±—ã–ª–∞ —Ä–µ—à–µ–Ω–∞!

**–ì–ª–∞–≤–Ω–∞—è –ø—Ä–æ–±–ª–µ–º–∞:** Telegram Bot API **–ù–ï –ø–æ–∑–≤–æ–ª—è–µ—Ç** —Å–∫–∞—á–∏–≤–∞—Ç—å —Ñ–∞–π–ª—ã –±–æ–ª—å—à–µ 20 –ú–ë.

**–†–µ—à–µ–Ω–∏–µ:** –•—Ä–∞–Ω–∏–º –≤–∏–¥–µ–æ **–ª–æ–∫–∞–ª—å–Ω–æ** –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ –≤–º–µ—Å—Ç–æ Telegram.

---

## üìä –ß—Ç–æ –±—ã–ª–æ –∏–∑–º–µ–Ω–µ–Ω–æ:

### 1. –°–æ–∑–¥–∞–Ω–∞ –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏—è –¥–ª—è –≤–∏–¥–µ–æ ‚úÖ
```
static/videos/
```

### 2. –û–±–Ω–æ–≤–ª–µ–Ω–∞ —Ñ—É–Ω–∫—Ü–∏—è –∑–∞–≥—Ä—É–∑–∫–∏ –≤–∏–¥–µ–æ ‚úÖ
**–§–∞–π–ª:** `helper7.py`, —Å—Ç—Ä–æ–∫–∞ 1759-1802

**–ß—Ç–æ –¥–µ–ª–∞–µ—Ç:**
- –°–æ—Ö—Ä–∞–Ω—è–µ—Ç –≤–∏–¥–µ–æ –≤ `static/videos/` —Å —É–Ω–∏–∫–∞–ª—å–Ω—ã–º –∏–º–µ–Ω–µ–º
- –û–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ –¥–µ–ª–∞–µ—Ç –±—ç–∫–∞–ø –≤ Telegram (–¥–ª—è —Ñ–∞–π–ª–æ–≤ < 20MB)
- –†–∞–±–æ—Ç–∞–µ—Ç —Å —Ñ–∞–π–ª–∞–º–∏ **–¥–æ 100 –ú–ë**

### 3. –û–±–Ω–æ–≤–ª–µ–Ω —Ä–æ—É—Ç —Å—Ç—Ä–∏–º–∏–Ω–≥–∞ ‚úÖ
**–§–∞–π–ª:** `helper7.py`, —Å—Ç—Ä–æ–∫–∞ 841-917

**–õ–æ–≥–∏–∫–∞:**
1. –ï—Å–ª–∏ `file_id` –Ω–∞—á–∏–Ω–∞–µ—Ç—Å—è —Å `video_` ‚Üí –æ—Ç–¥–∞–µ—Ç –ª–æ–∫–∞–ª—å–Ω—ã–π —Ñ–∞–π–ª
2. –ò–Ω–∞—á–µ ‚Üí –ø—ã—Ç–∞–µ—Ç—Å—è —Å–∫–∞—á–∞—Ç—å –∏–∑ Telegram (—Ç–æ–ª—å–∫–æ –¥–ª—è —Ñ–∞–π–ª–æ–≤ < 20MB)

### 4. –î–æ–±–∞–≤–ª–µ–Ω–æ –≤ .gitignore ‚úÖ
–í–∏–¥–µ–æ —Ñ–∞–π–ª—ã –Ω–µ –ø–æ–ø–∞–¥–∞—é—Ç –≤ git (—Å–ª–∏—à–∫–æ–º –±–æ–ª—å—à–∏–µ)

---

## üöÄ –ö–∞–∫ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å:

### –®–∞–≥ 1: –ó–∞–ø—É—Å—Ç–∏—Ç–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ
```bash
python3 helper7.py
```

### –®–∞–≥ 2: –ó–∞–≥—Ä—É–∑–∏—Ç–µ –Ω–æ–≤–æ–µ –≤–∏–¥–µ–æ (–¥–æ 100 –ú–ë)

1. –û—Ç–∫—Ä–æ–π—Ç–µ –∞–¥–º–∏–Ω–∫—É: http://localhost:5003/admin/login
2. Dashboard ‚Üí –í—ã–±–µ—Ä–∏—Ç–µ –º–∞–Ω—É–∞–ª ‚Üí –í—ã–±–µ—Ä–∏—Ç–µ –ø–æ–¥–ø—Ä–æ–±–ª–µ–º—É
3. "–ó–∞–≥—Ä—É–∑–∏—Ç—å –≤–∏–¥–µ–æ" ‚Üí –í—ã–±–µ—Ä–∏—Ç–µ —Ñ–∞–π–ª (–¥–æ 100 –ú–ë)
4. –ù–∞–∂–º–∏—Ç–µ "–ó–∞–≥—Ä—É–∑–∏—Ç—å"

**–†–µ–∑—É–ª—å—Ç–∞—Ç –≤ –∫–æ–Ω—Å–æ–ª–∏:**
```
[admin_upload_video] Saved video locally: static/videos/video_1_1.1_a8f3b2c4.mp4
[admin_upload_video] Backed up to Telegram: BAC... (–µ—Å–ª–∏ < 20MB)
–∏–ª–∏
[admin_upload_video] Telegram backup failed (—Ñ–∞–π–ª >20MB?): ... (–¥–ª—è –±–æ–ª—å—à–∏—Ö —Ñ–∞–π–ª–æ–≤ - —ç—Ç–æ –Ω–æ—Ä–º–∞–ª—å–Ω–æ!)
```

### –®–∞–≥ 3: –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ

–û—Ç–∫—Ä–æ–π—Ç–µ –º–∞–Ω—É–∞–ª —Å –≤–∏–¥–µ–æ:
- http://localhost:5003 ‚Üí –ú–∞–Ω—É–∞–ª—ã ‚Üí –ü—Ä–æ–±–ª–µ–º—ã —Å –ø–æ—á—Ç–æ–π ‚Üí –ó–∞–ø–æ–ª–Ω–∏–ª–∞—Å—å –ø–∞–º—è—Ç—å

**–†–µ–∑—É–ª—å—Ç–∞—Ç –≤ –∫–æ–Ω—Å–æ–ª–∏ –ø—Ä–∏ –∑–∞–≥—Ä—É–∑–∫–µ —Å—Ç—Ä–∞–Ω–∏—Ü—ã:**
```
[show_manual] Found video in subproblem_data, video_id: video_1_1.1_a8f3b2c4.mp4
[show_manual] Created video_data with proxy URL: /stream_video/video_1_1.1_a8f3b2c4.mp4
[stream_video] Request for: video_1_1.1_a8f3b2c4.mp4
[stream_video] Serving local file: static/videos/video_1_1.1_a8f3b2c4.mp4
```

‚úÖ **–í–∏–¥–µ–æ –¥–æ–ª–∂–Ω–æ –≤–æ—Å–ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç—å—Å—è!**

---

## üîÑ –ú–∏–≥—Ä–∞—Ü–∏—è —Å—Ç–∞—Ä—ã—Ö –≤–∏–¥–µ–æ

–£ –≤–∞—Å –µ—Å—Ç—å 3 –≤–∏–¥–µ–æ –≤ Telegram:
- **–í–∏–¥–µ–æ 1** (3.82 –ú–ë) - ‚úÖ —Ä–∞–±–æ—Ç–∞–µ—Ç, –º–æ–∂–Ω–æ –æ—Å—Ç–∞–≤–∏—Ç—å
- **–í–∏–¥–µ–æ 2** (1.99 –ú–ë) - ‚úÖ —Ä–∞–±–æ—Ç–∞–µ—Ç, –º–æ–∂–Ω–æ –æ—Å—Ç–∞–≤–∏—Ç—å
- **–í–∏–¥–µ–æ 3** (>20 –ú–ë) - ‚ùå –ù–ï —Ä–∞–±–æ—Ç–∞–µ—Ç, –Ω—É–∂–Ω–æ –∑–∞–≥—Ä—É–∑–∏—Ç—å –∑–∞–Ω–æ–≤–æ

### –î–ª—è –í–∏–¥–µ–æ 3 (–ø–æ–¥–ø—Ä–æ–±–ª–µ–º–∞ 1.3 "–ü–∏—Å—å–º–∞ –≤ –ò—Å—Ö–æ–¥—è—â–∏—Ö"):

**–í–∞—Ä–∏–∞–Ω—Ç –ê: –ï—Å–ª–∏ —É –≤–∞—Å –µ—Å—Ç—å –∏—Å—Ö–æ–¥–Ω—ã–π —Ñ–∞–π–ª**
1. –û—Ç–∫—Ä–æ–π—Ç–µ –∞–¥–º–∏–Ω–∫—É
2. –ü–µ—Ä–µ–π–¥–∏—Ç–µ –≤ Manual 1 ‚Üí Subproblem 1.3
3. –£–¥–∞–ª–∏—Ç–µ —Å—Ç–∞—Ä–æ–µ –≤–∏–¥–µ–æ (–∫–Ω–æ–ø–∫–∞ "–£–¥–∞–ª–∏—Ç—å –≤–∏–¥–µ–æ")
4. –ó–∞–≥—Ä—É–∑–∏—Ç–µ –Ω–æ–≤–æ–µ —á–µ—Ä–µ–∑ "–ó–∞–≥—Ä—É–∑–∏—Ç—å –≤–∏–¥–µ–æ"

**–í–∞—Ä–∏–∞–Ω—Ç –ë: –ï—Å–ª–∏ —Ñ–∞–π–ª–∞ –Ω–µ—Ç - —Å–∫–∞—á–∞—Ç—å –∏–∑ Telegram –Ω–µ–ª—å–∑—è**

–ö —Å–æ–∂–∞–ª–µ–Ω–∏—é, **—Ñ–∞–π–ª—ã >20MB –Ω–µ–ª—å–∑—è —Å–∫–∞—á–∞—Ç—å** —á–µ—Ä–µ–∑ Telegram Bot API.

–í–∞—Ä–∏–∞–Ω—Ç—ã:
1. –ù–∞–π—Ç–∏ –∏—Å—Ö–æ–¥–Ω—ã–π —Ñ–∞–π–ª –Ω–∞ –∫–æ–º–ø—å—é—Ç–µ—Ä–µ
2. –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å Telegram Desktop/Mobile —á—Ç–æ–±—ã —Å–∫–∞—á–∞—Ç—å —Ñ–∞–π–ª –≤—Ä—É—á–Ω—É—é
3. –ü–µ—Ä–µ—Å–æ–∑–¥–∞—Ç—å –≤–∏–¥–µ–æ-–º–∞–Ω—É–∞–ª

---

## üìÅ –°—Ç—Ä—É–∫—Ç—É—Ä–∞ —Ñ–∞–π–ª–æ–≤

```
helper1bezsidebar/
‚îú‚îÄ‚îÄ static/
‚îÇ   ‚îî‚îÄ‚îÄ videos/
‚îÇ       ‚îú‚îÄ‚îÄ .gitkeep (—Å–æ—Ö—Ä–∞–Ω—è–µ—Ç –ø–∞–ø–∫—É –≤ git)
‚îÇ       ‚îú‚îÄ‚îÄ video_1_1.1_abc123.mp4 (–ø—Ä–∏–º–µ—Ä)
‚îÇ       ‚îî‚îÄ‚îÄ video_1_1.3_def456.mp4 (–ø—Ä–∏–º–µ—Ä)
‚îú‚îÄ‚îÄ manuals_data.json (—Ç–µ–ø–µ—Ä—å —Ö—Ä–∞–Ω–∏—Ç –∏–º–µ–Ω–∞ –ª–æ–∫–∞–ª—å–Ω—ã—Ö —Ñ–∞–π–ª–æ–≤)
‚îî‚îÄ‚îÄ helper7.py
```

---

## üîí –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å

### .gitignore
–í–∏–¥–µ–æ —Ñ–∞–π–ª—ã –¥–æ–±–∞–≤–ª–µ–Ω—ã –≤ `.gitignore` - –Ω–µ –ø–æ–ø–∞–¥—É—Ç –≤ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π.

### –ë—ç–∫–∞–ø
–†–µ–∫–æ–º–µ–Ω–¥—É—é –Ω–∞—Å—Ç—Ä–æ–∏—Ç—å –±—ç–∫–∞–ø –ø–∞–ø–∫–∏ `static/videos/`:
```bash
# –ü—Ä–∏–º–µ—Ä - –¥–æ–±–∞–≤—å—Ç–µ –≤ cron
rsync -av static/videos/ /path/to/backup/videos/
```

---

## ‚öôÔ∏è Production –Ω–∞—Å—Ç—Ä–æ–π–∫–∏

### Nginx

–£–±–µ–¥–∏—Ç–µ—Å—å —á—Ç–æ nginx –ø—Ä–æ–ø—É—Å–∫–∞–µ—Ç –±–æ–ª—å—à–∏–µ —Ñ–∞–π–ª—ã:

```nginx
server {
    client_max_body_size 100M;

    # –î–ª—è video —Å—Ç—Ä–∏–º–∏–Ω–≥–∞
    location /stream_video/ {
        proxy_pass http://127.0.0.1:5003;
        proxy_buffering off;
        proxy_request_buffering off;

        # –¢–∞–π–º–∞—É—Ç—ã
        proxy_connect_timeout 300s;
        proxy_send_timeout 300s;
        proxy_read_timeout 300s;
    }

    # –ò–ª–∏ –º–æ–∂–Ω–æ –æ—Ç–¥–∞–≤–∞—Ç—å –≤–∏–¥–µ–æ –Ω–∞–ø—Ä—è–º—É—é —á–µ—Ä–µ–∑ nginx (–±—ã—Å—Ç—Ä–µ–µ)
    location /static/videos/ {
        alias /path/to/helper1bezsidebar/static/videos/;
        add_header Accept-Ranges bytes;
    }
}
```

### Apache

```apache
LimitRequestBody 104857600
Timeout 300
```

---

## üß™ –ü—Ä–æ–≤–µ—Ä–∫–∞ —á—Ç–æ –≤—Å–µ —Ä–∞–±–æ—Ç–∞–µ—Ç

### 1. –ó–∞–ø—É—Å—Ç–∏—Ç–µ —Ç–µ—Å—Ç–æ–≤—ã–π —Å–∫—Ä–∏–ø—Ç:
```bash
python3 check_video_size.py
```

### 2. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —á—Ç–æ –≤–∏–¥–µ–æ –æ—Ç–æ–±—Ä–∞–∂–∞–µ—Ç—Å—è:
- –û—Ç–∫—Ä–æ–π—Ç–µ –º–∞–Ω—É–∞–ª —Å –≤–∏–¥–µ–æ
- –í–∏–¥–µ–æ –¥–æ–ª–∂–Ω–æ –Ω–∞—á–∞—Ç—å –≤–æ—Å–ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç—å—Å—è
- –ü–æ–ø—Ä–æ–±—É–π—Ç–µ –ø–µ—Ä–µ–º–æ—Ç–∞—Ç—å - –¥–æ–ª–∂–Ω–∞ —Ä–∞–±–æ—Ç–∞—Ç—å –ø–µ—Ä–µ–º–æ—Ç–∫–∞

### 3. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ª–æ–≥–∏:
```
[show_manual] Found video...
[stream_video] Serving local file...
```

---

## ‚ùì FAQ

**Q: –ß—Ç–æ –µ—Å–ª–∏ —è —Ö–æ—á—É –ø—Ä–æ–¥–æ–ª–∂–∏—Ç—å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å Telegram?**
A: –î–ª—è —Ñ–∞–π–ª–æ–≤ < 20MB Telegram –±—É–¥–µ—Ç —Ä–∞–±–æ—Ç–∞—Ç—å. –°–∏—Å—Ç–µ–º–∞ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –æ–ø—Ä–µ–¥–µ–ª—è–µ—Ç: –µ—Å–ª–∏ `file_id` –Ω–µ –Ω–∞—á–∏–Ω–∞–µ—Ç—Å—è —Å `video_` - –ø—Ä–æ–±—É–µ—Ç –∑–∞–≥—Ä—É–∑–∏—Ç—å –∏–∑ Telegram.

**Q: –ö–∞–∫ —É–¥–∞–ª–∏—Ç—å —Å—Ç–∞—Ä—ã–µ –≤–∏–¥–µ–æ —Ñ–∞–π–ª—ã?**
A: –ü—Ä–æ—Å—Ç–æ —É–¥–∞–ª–∏—Ç–µ —Ñ–∞–π–ª –∏–∑ `static/videos/` –∏ –æ–±–Ω–æ–≤–∏—Ç–µ `manuals_data.json` (–∏–ª–∏ —á–µ—Ä–µ–∑ –∞–¥–º–∏–Ω–∫—É "–£–¥–∞–ª–∏—Ç—å –≤–∏–¥–µ–æ").

**Q: –ú–æ–∂–Ω–æ –ª–∏ —Ö—Ä–∞–Ω–∏—Ç—å –≤–∏–¥–µ–æ –Ω–∞ CDN?**
A: –î–∞! –ò–∑–º–µ–Ω–∏—Ç–µ `stream_video` —á—Ç–æ–±—ã —Ä–µ–¥–∏—Ä–µ–∫—Ç–∏–ª –Ω–∞ CDN URL –≤–º–µ—Å—Ç–æ –ª–æ–∫–∞–ª—å–Ω–æ–≥–æ —Ñ–∞–π–ª–∞.

**Q: Telegram backup –Ω–µ —Ä–∞–±–æ—Ç–∞–µ—Ç –¥–ª—è –±–æ–ª—å—à–∏—Ö —Ñ–∞–π–ª–æ–≤ - —ç—Ç–æ –ø—Ä–æ–±–ª–µ–º–∞?**
A: –ù–µ—Ç, —ç—Ç–æ –Ω–æ—Ä–º–∞–ª—å–Ω–æ. –ë—ç–∫–∞–ø –≤ Telegram –æ–ø—Ü–∏–æ–Ω–∞–ª–µ–Ω. –°–¥–µ–ª–∞–π—Ç–µ –æ—Ç–¥–µ–ª—å–Ω—ã–π —Ñ–∞–π–ª–æ–≤—ã–π –±—ç–∫–∞–ø.

---

## üéâ –ì–æ—Ç–æ–≤–æ!

–¢–µ–ø–µ—Ä—å –≤—ã –º–æ–∂–µ—Ç–µ:
- ‚úÖ –ó–∞–≥—Ä—É–∂–∞—Ç—å –≤–∏–¥–µ–æ –¥–æ **100 –ú–ë**
- ‚úÖ –í–∏–¥–µ–æ **–≤–æ—Å–ø—Ä–æ–∏–∑–≤–æ–¥—è—Ç—Å—è** –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ
- ‚úÖ –ü–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç—Å—è **–ø–µ—Ä–µ–º–æ—Ç–∫–∞**
- ‚úÖ –†–∞–±–æ—Ç–∞–µ—Ç –Ω–∞ **–ª—é–±–æ–º —Ä–∞–∑—Ä–µ—à–µ–Ω–∏–∏** —ç–∫—Ä–∞–Ω–∞

**–ó–∞–≥—Ä—É–∑–∏—Ç–µ –Ω–æ–≤–æ–µ –≤–∏–¥–µ–æ –∏ –ø—Ä–æ—Ç–µ—Å—Ç–∏—Ä—É–π—Ç–µ!** üöÄ
